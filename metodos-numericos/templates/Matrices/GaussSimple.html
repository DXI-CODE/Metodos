<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Método de Gauss Simple</title>
</head>
<body>
    <h1>Método de Gauss Simple</h1>
    <form id="form-gauss-simple" method="POST">
        <label for="matrix">Matriz aumentada (n x n+1, separados por comas):</label>
        <textarea id="matrix" name="matrix" rows="5" cols="40" placeholder="Ejemplo: 2,1,-1,8&#10;1,-2,3,-1&#10;3,0,1,3"></textarea>
        <button type="button" onclick="calcularGaussSimple()">Calcular</button>
    </form>
    <div id="resultado"></div>

    <script>
        async function calcularGaussSimple() {
            const textarea = document.getElementById("matrix");
            const matrix = textarea.value
                .trim()
                .split("\n")
                .map(row => row.split(",").map(Number));

            const response = await fetch("/gauss_simple", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ matrix })
            });

            const result = await response.json();
            const resultadoDiv = document.getElementById("resultado");
            if (response.ok) {
                resultadoDiv.innerHTML = `<p>Soluciones: ${result.soluciones.join(", ")}</p>`;
            } else {
                resultadoDiv.innerHTML = `<p>Error: ${result}</p>`;
            }
        }
    </script>
</body>
</html>
